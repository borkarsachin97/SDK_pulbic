
#ifndef __ESMPCLIENT_NEWCONTEXT_H__
#define __ESMPCLIENT_NEWCONTEXT_H__
//#include <jbed_global.h>
#include <uapps/wap/esmpclient/esmpclient_config.h>
#include <libs/jsengine/inc/jsobj.h>

#ifdef __cplusplus
extern "C" {
#endif

typedef struct _global_JSC_context{
    JSObject *WindowObj;
#ifdef CJS_WINDOW_PROTO
    JSObject *WindowProto;
#endif
    JSObject *documentObj;
    JSObject *formsObj;
    JSObject *cryptoObj;
    JSObject *gEventObj;
    JSObject *sNavigatorObj;
#ifndef CJS_WINDOW_PROTO
    JSObject *sHistoryObj;
#endif
    JSObject *sLocationObj;
    uint8_t *lastLocation;
    uint8_t *LocationURL;
    uint8_t *DocWriteBuf;
    JSRuntime *rt;
    JSContext *cx;

    int32_t hasDocWriteBuf; /**< flag wheter there are doc buffers which are generated by document.write() */
    uint32_t branchCalledCount;
} gJSCContext;
extern gJSCContext *gCjsCtxt;


struct __jsc_context__
{
    JSObject *windowObj; /* global object for this document */
    JSObject *documentObj; /* document object for this document */
};
typedef struct __jsc_context__ cjsContext;

#ifdef __cplusplus
}
#endif

#endif /* __ESMPCLIENT_NEWCONTEXT_H__ */
