/**
* @file mmi_alivewdgsrv_priv.h
*
* Service without using State Machine - ALIVEWDGSRV
* Generated by XFSM v1.0, CodeVer=v0.24
*
* Class Id: CLSID_ALIVEWDGSRV
* Interface Id: IID_ALIVEWDGSRV
*
* @version $Id: mmi_alivewdgsrv_priv.h 37577 2009-08-11 12:26:34Z jason.su $
*/
#ifndef __MMI_ALIVEWDGSRV_PRIV_H__
#define __MMI_ALIVEWDGSRV_PRIV_H__

#include "mmi_mae_common_def.h"
#include "mmi_alivewdgsrv.h"

#if defined(__GADGETS_MMI__) || defined(__3D_UI_IDLE_GADGETBAR__)

#include "mmi_messageorganizationsrv.h"
#include "mmi_calllogsrv.h"
#include "mmi_fmradiosrv.h"
#include "mmi_cfgsrv.h"
#include "mmi_audioplayersrv.h"
#include "mmi_evtcentersrv.h"
#include "mmi_mae_battery.h"
#include "mmi_ccsrv.h"

typedef struct _ALIVEWDGSRV_Node_s
{
    void *Instance;   ///< record the instance who create this node
    AliveWidgetID_e wId;   ///< type of this node
    IDataModel *pDataMdl;
    u8 refCount;    ///< valid only in Singleton node
    AliveWidgetSrvInfo_t stInfo;

    struct _ALIVEWDGSRV_Node_s *pNext;
}_ALIVEWDGSRV_Node_s;

/**
 * Application structure
 */
typedef struct MMI_ALIVEWDGSRV_TAG
{
    DECLARE_FUNCTBL(IALIVEWDGSRV);    // function table pointer
    u32 refCnt;     // reference count
    /* Add custom fields below */
    _ALIVEWDGSRV_Node_s *NSHead;
    _ALIVEWDGSRV_Node_s *SHead;

#ifdef __APP_MMI_FM_RADIO__
    FmrSrvHdl_t pFMRadioSrv;
#endif
    IAUDIOPLAYERSRV *pMPlayerSrv;
    IEVTCENTERSRV *pEvtCenterSrv;
    IBattery *pBattery;
    ICCSRV *pCcSrv;
	ICFGSrv	*pCfgSrv;
	ModelListener_t tCFGSrvMdl;

#ifdef __APP_MMI_FM_RADIO__
    boolean bFmrBGPlay;
#endif
    boolean bMPlayerBGPlay;
    boolean bCountDownRunning;
    boolean bPetExist;
    boolean bIdleActive;
    boolean bTerminate;
    AliveWidget_BG_Play_e eLastBGPlay;
} MMI_ALIVEWDGSRV;

#endif //__GADGETS_MMI__ || __3D_UI_IDLE_GADGETBAR__

#endif /* __MMI_ALIVEWDGSRV_PRIV_H__ */
