/**
* @file mmi_stksrv_priv.h
*
* Service without using State Machine - STKSRV
* Generated by XFSM v1.0, CodeVer=v0.24
*
* Class Id: CLSID_STKSRV
* Interface Id: IID_STKSRV
*
* @version $Id$
*/
#ifndef __MMI_STKSRV_PRIV_H__
#define __MMI_STKSRV_PRIV_H__

#include "mmi_mae_common_def.h"
#include "mmi_stksrv.h"
#include "mmi_mae_helper.h"
#include "mmi_mae_notifier.h"
#include "mmi_cfgsrv.h"
#include "mmi_common_cfg.h"
#include "mmi_ccsrv.h"
#include "mmi_simsrv.h"
#include "mmi_common_lang.h"
#include "mmi_mae_config.h"
#include "mmi_mae_config_types.h"

#define  STK_EVENT_CHECK_IDLE_TIMER 500

/**
 * Application structure
 */
typedef struct MMI_STKSRV_TAG
{
    DECLARE_FUNCTBL(ISTKSRV); // function table pointer
    u32 refCnt;     // reference count
    /* Add custom fields below */
    IConfig *pIConfig;
    ICFGSrv *pICFGSrv;      //for get and set configuration items.
    MAE_Notifier_t *pNotifier;  // to notify Setup Idle Text, Refresh event
    ICCSRV *pCcSrv;
    ISIMSRV *pSimSrv;
    boolean bTerminate;
    boolean bIsMSFinishStartup;

    IApplet *pStkApp;
    boolean bMainMenuValid;
    STKSRV_SetupMenu_t *MainMenu;
    boolean bIdleTextValid;
    STKSRV_SetupIdleText_t *IdleText;
    STKSRV_CommandType_e CommandType;
    STKSRV_Ind_t *unMsg;
    /*STK for Dual SIM*/
    IApplet *pStkApp2;
    boolean bMainMenuValid2;
    STKSRV_SetupMenu_t *MainMenu2;
    boolean bIdleTextValid2;
    STKSRV_SetupIdleText_t *IdleText2;
    STKSRV_CommandType_e CommandType2;
    STKSRV_Ind_t *unMsg2;
    ConfigListener_t LangCfgLsn;   ///< a listener for language change.

    /*STK for Event Download*/
    boolean bIsEventDownloadUa;
    boolean bIsEventDownloadIdle;
    //STKSRV_Evt_e     eEventDownloadEvent;
    boolean bIsEventDownloadUa2;
    boolean bIsEventDownloadIdle2;
    //STKSRV_Evt_e     eEventDownloadEvent2;
} MMI_STKSRV;

#endif /* __MMI_STKSRV_PRIV_H__ */
