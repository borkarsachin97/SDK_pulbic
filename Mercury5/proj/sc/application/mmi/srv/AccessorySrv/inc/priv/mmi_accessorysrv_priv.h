/**
* @file mmi_accessorysrv_priv.h
*
* Service without using State Machine - ACCESSORYSRV
* Generated by XFSM v1.0, CodeVer=v0.24  2008-21-11, 22:13:47
*
* Class Id: CLSID_ACCESSORYSRV
* Interface Id: IID_ACCESSORYSRV
*
* @version $Id: mmi_accessorysrv_priv.h 38890 2009-08-29 16:22:38Z zinc.chen $
*/
#ifndef __MMI_ACCESSORYSRV_PRIV_H__
#define __MMI_ACCESSORYSRV_PRIV_H__

/*=============================================================*/
// Include files
/*=============================================================*/

#include "mmi_mae_common_def.h"
#include "mmi_accessorysrv.h"
#include "mmi_mae_notifier.h"
#include "mmi_mae_filemgr.h"
#include "mmi_mae_motiondetector.h"

/*=============================================================*/
// Macro definition
/*=============================================================*/

/*=============================================================*/
// Data type definition
/*=============================================================*/


// The order of volume depends on the order of the return in fat_list_volumes().
typedef enum
{
    ACC_VOL_NOR = 0, ///< Nor disk
#ifdef __PC_SIMULATOR__
    ACC_VOL_NAND, ///< NAND disk
#endif
    ACC_VOL_SD                  ///< SD disk
} ACC_FS_Volume_e;

/**
 * Application structure
 */
typedef struct MMI_ACCESSORYSRV_TAG
{
    DECLARE_FUNCTBL(IACCESSORYSRV);   // function table pointer
    u32 refCnt;     // reference count
    /* Add custom fields below */
    IModel *pACCModel;
    MAE_Notifier_t *pNotifier;
    ACCExtCard_Status stExtCard_Status;
	ACCExtCard_Status stExtCard2_Status;
	ACCStorageDeviceStatus_e	ePhoneUserDiskStorageStatus;
	ACCStorageDeviceStatus_e	eExtCardStorageStatus;

#ifdef __G_SENSOR_MMI__ //support orientation
	IMotionDetector     *pIMotionDetector;
#endif

    boolean bSDNotWorkable;
    boolean bSD2NotWorkable;	/* External memory card 2 */
    boolean bTerminated;
    boolean bPlugInSDFirstTime;
#if defined(__DUAL_CARD__)
    boolean bPlugInSD2FirstTime;
#endif
} MMI_ACCESSORYSRV;

/*=============================================================*/
// Global function definition
/*=============================================================*/

void ACCESSORYSRV_Init(void);

#endif /* __MMI_ACCESSORYSRV_PRIV_H__ */
