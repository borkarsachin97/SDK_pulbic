/**
* @file mmi_javasrv.h
*
* State Machine Service - JAVASRV
* Generated by XFSM v1.0, CodeVer=v0.24
*
* Class Id: CLSID_JAVASRV
*
*
* @version $Id$
*/
#ifndef __MMI_JAVASRV_H__
#define __MMI_JAVASRV_H__

#include "mmi_mae_common_def.h"
#include "mmi_mae_applet.h"
#include "mmi_mae_class.h"

#ifdef __JAVA_MMI__

#include "mmi_javasrv_def.h"

/**
 * External Events
 */
#define JAVASRV_EVT_Init_Req                (CLSID_JAVASRV << 16 | 1)
#define JAVASRV_EVT_Init_Cnf                (CLSID_JAVASRV << 16 | 2)
#define JAVASRV_EVT_Release_Req             (CLSID_JAVASRV << 16 | 3)
#define JAVASRV_EVT_Release_Cnf             (CLSID_JAVASRV << 16 | 4)
#define JAVASRV_EVT_Get_Suite_Count_Req             (CLSID_JAVASRV << 16 | 5)
#define JAVASRV_EVT_Get_Suite_Count_Cnf             (CLSID_JAVASRV << 16 | 6)
#define JAVASRV_EVT_Get_Suite_Info_Req              (CLSID_JAVASRV << 16 | 7)
#define JAVASRV_EVT_Get_Suite_Info_Cnf              (CLSID_JAVASRV << 16 | 8)
#define JAVASRV_EVT_Remove_Suite_Req                (CLSID_JAVASRV << 16 | 9)
#define JAVASRV_EVT_Remove_Suite_Cnf                (CLSID_JAVASRV << 16 | 10)
#define JAVASRV_EVT_Get_Permission_Req              (CLSID_JAVASRV << 16 | 11)
#define JAVASRV_EVT_Get_Permission_Cnf              (CLSID_JAVASRV << 16 | 12)
#define JAVASRV_EVT_Set_Permission_Req              (CLSID_JAVASRV << 16 | 13)
#define JAVASRV_EVT_Set_Permission_Cnf              (CLSID_JAVASRV << 16 | 14)
#define JAVASRV_EVT_Get_Midlet_Count_Req                (CLSID_JAVASRV << 16 | 15)
#define JAVASRV_EVT_Get_Midlet_Count_Cnf                (CLSID_JAVASRV << 16 | 16)
#define JAVASRV_EVT_Get_Midlet_Info_Req             (CLSID_JAVASRV << 16 | 17)
#define JAVASRV_EVT_Get_Midlet_Info_Cnf             (CLSID_JAVASRV << 16 | 18)
#define JAVASRV_EVT_Launch_Midlet_Req               (CLSID_JAVASRV << 16 | 19)
#define JAVASRV_EVT_Launch_Midlet_Cnf               (CLSID_JAVASRV << 16 | 20)
#define JAVASRV_EVT_Check_Midlet_Req                (CLSID_JAVASRV << 16 | 21)
#define JAVASRV_EVT_Check_Midlet_Ind                (CLSID_JAVASRV << 16 | 22)
#define JAVASRV_EVT_Check_Midlet_Cnf                (CLSID_JAVASRV << 16 | 23)
#define JAVASRV_EVT_Install_Midlet_Req              (CLSID_JAVASRV << 16 | 24)
#define JAVASRV_EVT_Install_Midlet_Ind              (CLSID_JAVASRV << 16 | 25)
#define JAVASRV_EVT_Install_Midlet_Cnf              (CLSID_JAVASRV << 16 | 26)
#define JAVASRV_EVT_Set_Install_Progress_Req                (CLSID_JAVASRV << 16 | 27)
#define JAVASRV_EVT_Draw_Install_Dialog_Req             (CLSID_JAVASRV << 16 | 28)
#define JAVASRV_EVT_Cancel_Install_Req              (CLSID_JAVASRV << 16 | 29)
#define JAVASRV_EVT_Cancel_Install_Cnf              (CLSID_JAVASRV << 16 | 30)
#define JAVASRV_EVT_Http_Download_Req               (CLSID_JAVASRV << 16 | 31)
#define JAVASRV_EVT_Http_Download_Cnf               (CLSID_JAVASRV << 16 | 32)
#define JAVASRV_EVT_Http_Download_Abort             (CLSID_JAVASRV << 16 | 33)
#ifdef __NCC_3RD_JAVA_PORTING_LAYER__
#define JAVASRV_EVT_Set_Java_Net_Profile_Req        (CLSID_JAVASRV << 16 | 34)
#define JAVASRV_EVT_Set_Java_Net_Profile_Cnf        (CLSID_JAVASRV << 16 | 35)
#define JAVASRV_EVT_RST_Java_Preinstall_Req         (CLSID_JAVASRV << 16 | 36)
#define JAVASRV_EVT_RST_Java_Preinstall_Cnf         (CLSID_JAVASRV << 16 | 37)
#define JAVASRV_EVT_RST_Java_NetProfile_Cnf         (CLSID_JAVASRV << 16 | 38)
#endif
/**
 * IJAVASRV Interfaces
 */
#ifndef __NCC_3RD_JAVA_PORTING_LAYER__
#define INHERIT_IJAVASRV(IName) \
    INHERIT_IHandler(IName); \
    MAE_Ret     (*RegisterNotification)     ( IName * , void *pInstance, JAVASRV_NOTIFY_MASK_e mask);  \
    MAE_Ret     (*DeRegisterNotification)       ( IName * , void *pInstance, JAVASRV_NOTIFY_MASK_e mask);  \
    MAE_Ret     (*AmsInitReq)       ( IName * );  \
    MAE_Ret     (*AmsReleaseReq)        ( IName * );  \
    MAE_Ret     (*AmsGetSuiteCountReq)      ( IName * );  \
    MAE_Ret     (*AmsGetSuiteInfoReq)       ( IName * , int SuiteIndex);  \
    MAE_Ret     (*AmsRemoveSuilteReq)       ( IName * , int SuiteIndex);  \
    MAE_Ret     (*AmsGetPermission)     ( IName * , int SuiteIndex);  \
    MAE_Ret     (*AmsSetPermission)     ( IName * , int SuiteIndex, java_permission_setting *ps);  \
    MAE_Ret     (*AmsGetMidletCountReq)     ( IName * , int SuiteIndex);  \
    MAE_Ret     (*AmsGetMidletInfoReq)      ( IName * , int SuiteIndex, int MidletIndex);  \
    MAE_Ret     (*AmsLaunchMidletReq)       ( IName * , int SuiteIndex, int MidletIndex);  \
    MAE_Ret     (*AmsCheckMidletReq)        ( IName * , u16 *jadPath, u16 *jarPath);  \
    MAE_Ret     (*AmsCheckMidletReqEx)        ( IName * , u16 *jadPath, u16 *jarPath, u8 nStorage);  \
    MAE_Ret     (*AmsInstallMidletReq)      ( IName * , u16 *jadPath, u16 *jarPath, int KeepRMS, s32 oldId, u8 storage);  \
    MAE_Ret     (*AmsCancelInstallMidetReq)     ( IName * );  \
    MAE_Ret     (*AmsSetInstallProgressRsp)     ( IName * , u32 select_key);  \
    MAE_Ret     (*AmsDrawInstallDialogRsp)      ( IName * , u32 select_key, mmi_ams_DrawInstallDialogReq_t *pData);  \
    MAE_Ret     (*HttpDownloadReq)      ( IName * , u16 *u16Http, u16 *u16FileName)

DEFINE_INTERFACE(IJAVASRV);
#else
#define INHERIT_IJAVASRV(IName) \
    INHERIT_IHandler(IName); \
    MAE_Ret     (*RegisterNotification)     ( IName * , void *pInstance, JAVASRV_NOTIFY_MASK_e mask);  \
    MAE_Ret     (*DeRegisterNotification)       ( IName * , void *pInstance, JAVASRV_NOTIFY_MASK_e mask);  \
    MAE_Ret     (*AmsInitReq)       ( IName * );  \
    MAE_Ret     (*AmsReleaseReq)        ( IName * );  \
    MAE_Ret     (*AmsGetSuiteCountReq)      ( IName * );  \
    MAE_Ret     (*AmsGetSuiteInfoReq)       ( IName * , int SuiteIndex);  \
    MAE_Ret     (*AmsRemoveSuilteReq)       ( IName * , int SuiteIndex);  \
    MAE_Ret     (*AmsGetPermission)     ( IName * , int SuiteIndex);  \
    MAE_Ret     (*AmsSetPermission)     ( IName * , int SuiteIndex, java_permission_setting *ps);  \
    MAE_Ret     (*AmsGetMidletCountReq)     ( IName * , int SuiteIndex);  \
    MAE_Ret     (*AmsGetMidletInfoReq)      ( IName * , int SuiteIndex, int MidletIndex);  \
    MAE_Ret     (*AmsLaunchMidletReq)       ( IName * , int SuiteIndex, int MidletIndex);  \
    MAE_Ret     (*AmsCheckMidletReq)        ( IName * , u16 *jadPath, u16 *jarPath);  \
    MAE_Ret     (*AmsCheckMidletReqEx)        ( IName * , u16 *jadPath, u16 *jarPath, u8 nStorage);  \
    MAE_Ret     (*AmsInstallMidletReq)      ( IName * , u16 *jadPath, u16 *jarPath, int KeepRMS, s32 oldId, u8 storage);  \
    MAE_Ret     (*AmsCancelInstallMidetReq)     ( IName * );  \
    MAE_Ret     (*AmsSetInstallProgressRsp)     ( IName * , u32 select_key);  \
    MAE_Ret     (*AmsDrawInstallDialogRsp)      ( IName * , u32 select_key, mmi_ams_DrawInstallDialogReq_t *pData);  \
    MAE_Ret     (*HttpDownloadReq)              ( IName * , u16 *u16Http, u16 *u16FileName); \
    MAE_Ret     (*AmsSetJavaNetProfileReq)      ( IName * , int simCard); \
    MAE_Ret     (*AmsRstJavaPreinstallReq)      ( IName * ); \
    MAE_Ret     (*AmsRstJavaNetProfileReq)      ( IName *)
DEFINE_INTERFACE(IJAVASRV);
#endif


#define IJAVASRV_QueryInterface(pICntlr, id, pp, po)            GET_FUNCTBL((pICntlr), IJAVASRV)->QueryInterface(pICntlr, id, pp, po)
#define IJAVASRV_HandleEvent(pICntlr, e, p1, p2)                GET_FUNCTBL((pICntlr), IJAVASRV)->HandleEvent(pICntlr, e, p1, p2)
#define IJAVASRV_RegisterNotification(pICntlr, p1, p2)  GET_FUNCTBL((pICntlr), IJAVASRV)->RegisterNotification( pICntlr, p1, p2)
#define IJAVASRV_DeRegisterNotification(pICntlr, p1, p2)    GET_FUNCTBL((pICntlr), IJAVASRV)->DeRegisterNotification( pICntlr, p1, p2)
#define IJAVASRV_AmsInitReq(pICntlr)    GET_FUNCTBL((pICntlr), IJAVASRV)->AmsInitReq( pICntlr)
#define IJAVASRV_AmsReleaseReq(pICntlr) GET_FUNCTBL((pICntlr), IJAVASRV)->AmsReleaseReq( pICntlr)
#define IJAVASRV_AmsGetSuiteCountReq(pICntlr)   GET_FUNCTBL((pICntlr), IJAVASRV)->AmsGetSuiteCountReq( pICntlr)
#define IJAVASRV_AmsGetSuiteInfoReq(pICntlr, p1)    GET_FUNCTBL((pICntlr), IJAVASRV)->AmsGetSuiteInfoReq( pICntlr, p1)
#define IJAVASRV_AmsRemoveSuilteReq(pICntlr, p1)    GET_FUNCTBL((pICntlr), IJAVASRV)->AmsRemoveSuilteReq( pICntlr, p1)
#define IJAVASRV_AmsGetPermission(pICntlr, p1)  GET_FUNCTBL((pICntlr), IJAVASRV)->AmsGetPermission( pICntlr, p1)
#define IJAVASRV_AmsSetPermission(pICntlr, p1, p2)  GET_FUNCTBL((pICntlr), IJAVASRV)->AmsSetPermission( pICntlr, p1, p2)
#define IJAVASRV_AmsGetMidletCountReq(pICntlr, p1)  GET_FUNCTBL((pICntlr), IJAVASRV)->AmsGetMidletCountReq( pICntlr, p1)
#define IJAVASRV_AmsGetMidletInfoReq(pICntlr, p1, p2)   GET_FUNCTBL((pICntlr), IJAVASRV)->AmsGetMidletInfoReq( pICntlr, p1, p2)
#define IJAVASRV_AmsLaunchMidletReq(pICntlr, p1, p2)    GET_FUNCTBL((pICntlr), IJAVASRV)->AmsLaunchMidletReq( pICntlr, p1, p2)
#define IJAVASRV_AmsCheckMidletReq(pICntlr, p1, p2) GET_FUNCTBL((pICntlr), IJAVASRV)->AmsCheckMidletReq( pICntlr, p1, p2)
#define IJAVASRV_AmsCheckMidletReqEx(pICntlr, p1, p2, p3) GET_FUNCTBL((pICntlr), IJAVASRV)->AmsCheckMidletReqEx( pICntlr, p1, p2, p3)
#define IJAVASRV_AmsInstallMidletReq(pICntlr, p1, p2, p3, p4, p5)   GET_FUNCTBL((pICntlr), IJAVASRV)->AmsInstallMidletReq( pICntlr, p1, p2, p3, p4, p5)
#define IJAVASRV_AmsCancelInstallMidetReq(pICntlr)  GET_FUNCTBL((pICntlr), IJAVASRV)->AmsCancelInstallMidetReq( pICntlr)
#define IJAVASRV_AmsSetInstallProgressRsp(pICntlr, p1)  GET_FUNCTBL((pICntlr), IJAVASRV)->AmsSetInstallProgressRsp( pICntlr, p1)
#define IJAVASRV_AmsDrawInstallDialogRsp(pICntlr, p1, p2)   GET_FUNCTBL((pICntlr), IJAVASRV)->AmsDrawInstallDialogRsp( pICntlr, p1, p2)
#define IJAVASRV_HttpDownloadReq(pICntlr, p1, p2)   GET_FUNCTBL((pICntlr), IJAVASRV)->HttpDownloadReq( pICntlr, p1, p2) // it's not used now.
#ifdef __NCC_3RD_JAVA_PORTING_LAYER__
#define IJAVASRV_AmsSetJavaNetProfileReq(pICntlr, p1)   GET_FUNCTBL((pICntlr), IJAVASRV)->AmsSetJavaNetProfileReq( pICntlr, p1)
#define IJAVASRV_AmsGetJavaNetProfileReq(pICntlr)   GET_FUNCTBL((pICntlr), IJAVASRV)->AmsGetJavaNetProfileReq( pICntlr)
#define IJAVASRV_AmsRstJavaPreinstallReq(pICntlr)   GET_FUNCTBL((pICntlr), IJAVASRV)->AmsRstJavaPreinstallReq( pICntlr)
#define IJAVASRV_AmsRstJavaNetProfileReq(pICntlr)   GET_FUNCTBL((pICntlr), IJAVASRV)->AmsRstJavaNetProfileReq( pICntlr)
#endif



/**
 * Functions
 */

void JAVASRV_Init(void);

MAE_Ret JAVASRV_New(MAE_ClsId id, void **ppObj);

#endif // __JAVA_MMI__

#endif /* __MMI_JAVASRV_H__ */
